(this["webpackJsonptaha-market"]=this["webpackJsonptaha-market"]||[]).push([[0],{52:function(e,t,r){},53:function(e,t,r){"use strict";r.r(t);var n,c=r(0),a=r.n(c),s=r(27),i=r.n(s),o=r(12),j=r(16),l=r(19),d=r(20),u=r(26),b="OPEN_CART",O="CLOSE_CART",h="SET_PRODUCTS",m="ADD_TO_CART",p="REMOVE_FROM_CART",x=function(e){return{type:m,payload:e}},f=function(e){return{type:h,payload:e}},v=r(1),y=Object(d.b)(j.b)(n||(n=Object(l.a)(["\n    color:white;\n    &:hover {\n      transform: scale(1.1);\n    }\n"]))),g=function(){var e=Object(o.c)((function(e){return e.cart})),t=Object(o.b)(),r=function(){return e.reduce((function(e,t){return e+t.quantity}),0)};return Object(v.jsx)("div",{style:{background:"black"},children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(j.b,{to:"/",children:Object(v.jsx)("div",{style:{fontSize:"6rem",color:"white"},children:"Taha's Market"})}),Object(v.jsxs)("nav",{children:[Object(v.jsx)(y,{to:"/",children:"Home"}),Object(v.jsx)(y,{to:"/Orders",children:"Orders"}),Object(v.jsx)(y,{to:"/Login",children:"Login"}),Object(v.jsx)(y,{to:"/Register",children:"Register"}),Object(v.jsx)(y,{to:"/Logout",children:"Logout"}),Object(v.jsxs)("div",{className:"btnContainer",onClick:function(){return t({type:b})},children:[Object(v.jsx)("button",{style:{color:"white",background:"black"},children:Object(v.jsx)(u.c,{})}),r()>0?Object(v.jsx)("div",{className:"quantity",children:r()}):""]})]})]})})},N=r(4),w=r(3),k=r.n(w),S=r(8),q=r(57),C=function(e){var t=e.id,r=e.name,n=e.price,c=e.picture,a={id:t,name:r,price:n,picture:c,category:e.category},s=Object(o.b)();return Object(v.jsxs)("div",{className:"prodwrap",children:[Object(v.jsx)("div",{className:"imgcon",children:Object(v.jsx)("img",{className:"productimg",src:c,alt:r})}),Object(v.jsxs)("div",{className:"details2",children:[Object(v.jsxs)("div",{className:"info",children:[Object(v.jsx)("div",{className:"total",children:r}),Object(v.jsxs)("div",{children:["$",n.toFixed(2)]})]}),Object(v.jsx)("button",{className:"closebtn",onClick:function(){return s(x(a))},children:"Add To Cart"})]})]})},T=function(){var e=Object(o.c)((function(e){return e.products})),t=Object(o.b)();Object(c.useEffect)((function(){r()}),[]);var r=function(){var e=Object(S.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=f,e.next=4,n();case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(S.a)(k.a.mark((function e(){var t,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.edu.etherial.dev/api/ecommerce/products");case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=e.map((function(e){return Object(v.jsx)(C,{id:e.id,name:e.name,price:e.price,picture:e.picture},Object(q.a)())}));return Object(v.jsx)("div",{className:"prodswrap",children:a})},E=r(36),_=r(37),L=r(40),F=r(39),I=r(11),A=function(){var e=Object(S.a)(k.a.mark((function e(t){var r,n,c,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,e.next=3,fetch("https://api.edu.etherial.dev/api/ecommerce/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:n})});case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(S.a)(k.a.mark((function e(t){var r,n,c,a,s,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.firstname,n=t.lastname,c=t.email,a=t.password,e.next=3,fetch("https://api.edu.etherial.dev/api/ecommerce/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:r,lastname:n,email:c,password:a,password_verif:a})});case 3:return s=e.sent,e.next=6,s.json();case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(S.a)(k.a.mark((function e(){var t,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.edu.etherial.dev/api/ecommerce/users/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.useState)(""),t=Object(I.a)(e,2),r=t[0],n=t[1],a=function(){var e=Object(S.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a()}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("h1",{className:"name",children:[r.firstname,"'s orders"]})})},B=function(e){Object(L.a)(r,e);var t=Object(F.a)(r);function r(){var e;Object(E.a)(this,r);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={loading:!0,orders:[]},e}return Object(_.a)(r,[{key:"componentDidMount",value:function(){var e=Object(S.a)(k.a.mark((function e(){var t,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.edu.etherial.dev/api/ecommerce/users/me/orders",{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,this.setState({orders:r.data,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?Object(v.jsx)("div",{children:"loading..."}):this.state.orders?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(D,{}),Object(v.jsxs)("table",{id:"customers",children:[Object(v.jsx)("br",{}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Id"}),Object(v.jsx)("th",{children:"Ordered At"}),Object(v.jsx)("th",{children:"Delivery Date"})]}),this.state.orders.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.id}),Object(v.jsx)("td",{children:e.createdAt}),Object(v.jsx)("td",{children:e.delivery_date})]},e.id)}))]})]}):Object(v.jsx)("div",{children:"No orders"})}}]),r}(a.a.Component),G=r(2),M=r(28),z=r(55),J=r(56),V=r(58);function $(){var e=Object(N.h)(),t=Object(M.a)(),r=t.register,n=t.handleSubmit,c=t.formState.errors;return Object(v.jsx)(z.a,{className:"",children:Object(v.jsxs)(J.a,{onSubmit:n(function(){var t=Object(S.a)(k.a.mark((function t(r){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(r);case 2:n=t.sent,localStorage.setItem("token",n.data.token),e("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)(J.a.Group,{className:"mb-3",controlId:"formBasicFirstName",children:[Object(v.jsx)(J.a.Label,{className:"label",children:Object(v.jsx)("h2",{children:"FirstName"})}),Object(v.jsx)("br",{}),Object(v.jsx)(J.a.Control,Object(G.a)({className:"form",type:"text",placeholder:"FirstName"},r("firstname",{required:!0}))),c.firstname&&Object(v.jsx)("span",{children:"This field is required"})]}),Object(v.jsxs)(J.a.Group,{className:"mb-3",controlId:"formBasicLastName",children:[Object(v.jsx)(J.a.Label,{className:"label",children:Object(v.jsx)("h2",{children:"LastName"})}),Object(v.jsx)("br",{}),Object(v.jsx)(J.a.Control,Object(G.a)({className:"form",type:"text",placeholder:"LastName"},r("lastname",{required:!0}))),c.lastname&&Object(v.jsx)("span",{children:"This field is required"})]}),Object(v.jsxs)(J.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(v.jsx)(J.a.Label,{className:"label",children:Object(v.jsx)("h2",{children:"Email"})}),Object(v.jsx)("br",{}),Object(v.jsx)(J.a.Control,Object(G.a)({className:"form",placeholder:"Enter email",type:"email"},r("email",{required:!0,pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}))),c.email&&Object(v.jsx)("span",{children:"This field is required"})]}),Object(v.jsxs)(J.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(v.jsx)(J.a.Label,{className:"label",children:Object(v.jsx)("h2",{children:"Password"})}),Object(v.jsx)("br",{}),Object(v.jsx)(J.a.Control,Object(G.a)({className:"form",type:"password",placeholder:"Password"},r("password",{required:!0}))),c.password&&Object(v.jsx)("span",{children:"This field is required"})]}),Object(v.jsx)(V.a,{className:"submit d",variant:"primary",type:"submit",children:"Submit"})]})})}function U(){var e=Object(N.h)(),t=Object(M.a)(),r=t.register,n=t.handleSubmit,c=t.formState.errors;return Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("form",{onSubmit:n(function(){var t=Object(S.a)(k.a.mark((function t(r){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(r);case 3:n=t.sent,localStorage.setItem("token",n.data.token),e("/orders"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),e("/login");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),children:[Object(v.jsx)("label",{className:"label",htmlFor:"email",children:Object(v.jsx)("h2",{children:"Email"})}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(G.a)({className:"form",type:"email",id:"email",defaultValue:"khalid@email.com"},r("email",{required:!0,pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}))),c.email&&Object(v.jsx)("span",{children:"This field is required"})," ",Object(v.jsx)("br",{}),Object(v.jsx)("label",{className:"label",htmlFor:"password",children:Object(v.jsx)("h2",{children:"Password"})}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(G.a)({className:"form",type:"password",id:"password"},r("password",{required:!0})))," ",Object(v.jsx)("br",{}),c.password&&Object(v.jsx)("span",{children:"This field is required"})," ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{className:"submit",type:"submit"})," ",Object(v.jsx)("br",{})]})})}function X(){var e=Object(N.h)();localStorage.removeItem("token"),window.location.reload(!1),e("/login")}var H,Y,K,Q=function(){return localStorage.getItem("token")?Object(v.jsx)(N.b,{}):Object(v.jsx)(N.a,{to:"/login"})},W=d.b.main(H||(H=Object(l.a)(["\n  max-width: 140rem;\n  margin: 0 auto;\n  padding: 4rem;\n"]))),Z=function(){return Object(v.jsx)(W,{children:Object(v.jsxs)(N.e,{children:[Object(v.jsx)(N.c,{path:"/",element:Object(v.jsx)(T,{})}),Object(v.jsx)(N.c,{path:"/Register",element:Object(v.jsx)($,{})}),Object(v.jsx)(N.c,{path:"/Login",element:Object(v.jsx)(U,{})}),Object(v.jsxs)(N.c,{element:Object(v.jsx)(Q,{}),children:[Object(v.jsx)(N.c,{path:"/Orders",element:Object(v.jsx)(B,{})}),Object(v.jsx)(N.c,{path:"/Logout",element:Object(v.jsx)(X,{})})]})]})})},ee=function(e){var t=e.id,r=e.name,n=e.price,c=e.picture,a={id:t,name:r,price:n,picture:c,quantity:e.quantity},s={id:t,name:r,price:n,picture:c},i=Object(o.b)();return Object(v.jsxs)("div",{className:"itemwrap",children:[Object(v.jsx)("div",{className:"imagecontainer",children:Object(v.jsx)("img",{className:"image",src:c,alt:r})}),Object(v.jsxs)("div",{className:"details",children:[Object(v.jsx)("div",{className:"itemname",children:function(e){return e.length<=14?e:e.substr(0,14)+"..."}(r)}),Object(v.jsxs)("div",{children:["$",(a.price*a.quantity).toFixed(2)]}),Object(v.jsxs)("div",{className:"amountchange",children:[Object(v.jsx)("button",{className:"change",onClick:function(){return i(function(e){return{type:p,payload:e}}(s))},children:Object(v.jsx)(u.a,{})}),Object(v.jsx)("div",{children:a.quantity}),Object(v.jsx)("button",{className:"change",onClick:function(){return i(x(s))},children:Object(v.jsx)(u.b,{})})]})]})]})},te=d.b.div(Y||(Y=Object(l.a)(["\n  position: fixed;\n  z-index: 1;\n  top: 0;\n  right: -110%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4rem;\n  width: 59rem;\n  height: 100%;\n  padding: 6rem;\n  background-color: #fff;\n  font-size: 3rem;\n  transition: right 0.85s ease-in-out;\n\n  ","\n\n  @media (max-width: 480px) {\n    width: 100%;\n  }\n"])),(function(e){return e.isOpen&&Object(d.a)(K||(K=Object(l.a)(["\n      right: 0;\n    "])))})),re=function(){var e=Object(o.c)((function(e){return e.cart})),t=Object(o.c)((function(e){return e.isCartOpen})),r=Object(o.b)(),n=e.map((function(e){return Object(v.jsx)(ee,{id:e.id,name:e.name,price:e.price,picture:e.picture,quantity:e.quantity},Object(q.a)())}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(te,{isOpen:t,children:[Object(v.jsx)("div",{className:"cart",children:"Your shopping cart"}),Object(v.jsx)("div",{className:"products",children:n}),Object(v.jsxs)("div",{className:"total",children:["Total: $",e.reduce((function(e,t){return e+t.price*t.quantity}),0).toFixed(2)]}),Object(v.jsx)("button",{className:"checkbtn",children:"Order"}),Object(v.jsx)("button",{className:"closebtn",onClick:function(){return r({type:O})},children:"Close"})]})})},ne=(r(52),function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(j.a,{children:[Object(v.jsx)(g,{}),Object(v.jsx)(Z,{})]}),Object(v.jsx)(re,{})]})}),ce=r(24),ae=r(38),se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return!0;case O:return!1;default:return e}},ie=r(9),oe=[],je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(ie.a)(t.payload);default:return e}},le=[],de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var r=e.find((function(e){return e.id===t.payload.id}));return r?e.map((function(e){return e.id===t.payload.id?Object(G.a)(Object(G.a)({},e),{},{quantity:e.quantity+1}):e})):[].concat(Object(ie.a)(e),[Object(G.a)(Object(G.a)({},t.payload),{},{quantity:1})]);case p:var n=e.find((function(e){return e.id===t.payload.id}));return 1===n.quantity?e.filter((function(e){return e.id!==t.payload.id})):e.map((function(e){return e.id===t.payload.id?Object(G.a)(Object(G.a)({},e),{},{quantity:e.quantity-1}):e}));default:return e}},ue=Object(ce.b)({isCartOpen:se,products:je,cart:de}),be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ce.c,Oe=Object(ce.d)(ue,be(Object(ce.a)(ae.a)));i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(o.a,{store:Oe,children:Object(v.jsx)(ne,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.f86b0f79.chunk.js.map